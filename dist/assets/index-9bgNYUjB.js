var Ue=Object.defineProperty;var We=(s,t,n)=>t in s?Ue(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n;var Pe=(s,t,n)=>We(s,typeof t!="symbol"?t+"":t,n);import{a as o,R as $e}from"./react-BE5NQfOQ.js";import{u as _e,V as Y,a as de,H as Re,b as Ye,C as Ve,L as ze,c as Ae,B as qe,D as Xe,M as Ke,d as Ze,e as Je,R as Qe,E as et,f as tt,O as st,g as rt}from"./three-BEF-IsJw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Oe={exports:{}},Ie={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nt=o,ot=Symbol.for("react.element"),at=Symbol.for("react.fragment"),it=Object.prototype.hasOwnProperty,ct=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lt={key:!0,ref:!0,__self:!0,__source:!0};function Te(s,t,n){var c,i={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(c in t)it.call(t,c)&&!lt.hasOwnProperty(c)&&(i[c]=t[c]);if(s&&s.defaultProps)for(c in t=s.defaultProps,t)i[c]===void 0&&(i[c]=t[c]);return{$$typeof:ot,type:s,key:a,ref:l,props:i,_owner:ct.current}}Ie.Fragment=at;Ie.jsx=Te;Ie.jsxs=Te;Oe.exports=Ie;var e=Oe.exports;let Le=null,xe=null,Ge=1;function ye(){try{const s=window.AudioContext||window.webkitAudioContext;return s?(Le||(Le=new s),Le):null}catch{return null}}function ge(){const s=ye();return s?(xe||(xe=s.createGain(),xe.gain.value=Ge,xe.connect(s.destination)),xe):null}function Fe(s){Ge=Math.max(0,Math.min(1,s));const t=ge();t&&(t.gain.value=Ge)}async function Ce(s){const t=ye();if(!t)throw new Error("No AudioContext");const n=await fetch(s);if(!n.ok)throw new Error("Failed to fetch audio: "+s);const c=await n.arrayBuffer();return await t.decodeAudioData(c)}async function Be(){const s=ye();if(s){try{const t=["/sounds/success1.mp3","/sounds/success2.mp3","/sounds/success3.mp3"],n=[];for(const c of t)try{n.push(await Ce(c))}catch{}if(n.length){const c=s.createBufferSource();c.buffer=n[Math.random()*n.length|0];const i=s.createGain();i.gain.value=.6;const a=ge();c.connect(i).connect(a||s.destination),c.start();return}}catch{}try{s.state==="suspended"&&s.resume();const t=ge(),n=s.createGain();n.gain.value=.15,n.connect(t||s.destination);const c=s.createOscillator();c.type="sine";const i=s.createOscillator();i.type="sine",c.connect(n),i.connect(n);const a=s.currentTime;c.frequency.setValueAtTime(880,a),c.start(a),c.stop(a+.12),i.frequency.setValueAtTime(1175,a+.1),i.start(a+.1),i.stop(a+.25)}catch{}}}async function dt(s,t){const n=ye();if(!n)return Be();const c=[`/sounds/approve-${s.toLowerCase()}.mp3`,`/sounds/${s.toLowerCase()}-approve.mp3`];for(const i of c)try{const a=await Ce(i),l=n.createBufferSource();l.buffer=a;const p=n.createGain();if(p.gain.value=.6,t){const f=n.createPanner();f.panningModel="HRTF",f.distanceModel="inverse",f.refDistance=2,f.maxDistance=50,f.rolloffFactor=1,f.setPosition(t[0],t[1],t[2]);const G=ge();l.connect(p).connect(f).connect(G||n.destination)}else{const f=ge();l.connect(p).connect(f||n.destination)}l.start();return}catch{}await Be()}let Ne=!1,ve=null,ke=null;async function ut(){if(Ne)return;Ne=!0;const s=ye();if(s)try{const t=["/sounds/ambient-wind.mp3","/sounds/ambient-birds.mp3"],n=["/sounds/ambient-hvac.mp3","/sounds/ambient-roomtone.mp3"],c=[],i=[];for(const l of t)try{c.push(await Ce(l))}catch{}for(const l of n)try{i.push(await Ce(l))}catch{}if(!c.length&&!i.length)return;const a=s.createGain();a.gain.value=.08,a.connect(s.destination),ve=s.createGain(),ve.gain.value=.8,ve.connect(a),ke=s.createGain(),ke.gain.value=0,ke.connect(a);for(const l of c){const p=s.createBufferSource();p.buffer=l,p.loop=!0,p.connect(ve),p.start()}for(const l of i){const p=s.createBufferSource();p.buffer=l,p.loop=!0,p.connect(ke),p.start()}}catch{}}async function ft(s){try{const t=await fetch(s,{method:"GET",cache:"no-store"});if(!t.ok)return!1;const n=(t.headers.get("content-type")||"").toLowerCase();return n.includes("text/html")?!1:(n.includes("model/gltf-binary")||n.includes("application/octet-stream")||n.includes("model/gltf+json"),!0)}catch{return!1}}function pt(){const[s,t]=o.useState(null);return o.useEffect(()=>{const n="/models/dachshund.glb";ft(n).then(c=>{t(c?n:"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Fox/glTF-Binary/Fox.glb")})},[]),s}function ht({position:s}){const t=o.useRef(null),n=o.useMemo(()=>performance.now(),[]);return de(()=>{const c=(performance.now()-n)/500;if(t.current){t.current.position.copy(s),t.current.scale.setScalar(1+c*1.5);const i=t.current.material;i.opacity=Math.max(0,.4-c*.4)}}),e.jsxs("mesh",{ref:t,rotation:[-Math.PI/2,0,0],children:[e.jsx("circleGeometry",{args:[.12,16]}),e.jsx("meshBasicMaterial",{color:"#777",transparent:!0,opacity:.4})]})}function mt({position:s,onInteraction:t,onPosition:n,showInteractionButtons:c,mobileDirection:i="stop",onTrick:a,moveTarget:l,onEyeRoll:p,obstacles:f=[]}){const G=pt(),g=o.useRef(null),y=o.useRef({up:!1,down:!1,left:!1,right:!1}),v=o.useMemo(()=>new Y,[]),[C,ae]=o.useState(0),V=o.useRef(new Y),N=o.useRef(null),S=o.useRef(0),_=o.useRef(null);o.useEffect(()=>{_.current=l??null},[l]);const w=o.useRef(0),j=o.useRef(null),I=o.useRef(null),R=o.useRef(null);o.useEffect(()=>{const re=E=>{var z,T,$,D,H,U,ne,Q,L,O,A,F;const h=E.key.toLowerCase();ut(),(h==="arrowup"||h==="arrowdown"||h==="arrowleft"||h==="arrowright"||h==="w"||h==="a"||h==="s"||h==="d"||h===" ")&&(E.preventDefault(),E.stopPropagation()),h==="arrowup"&&(y.current.up=!0),h==="arrowdown"&&(y.current.down=!0),h==="arrowleft"&&(y.current.left=!0),h==="arrowright"&&(y.current.right=!0),h===" "&&t("bark"),h==="s"&&(N.current="sit",S.current=performance.now()+1200,a==null||a("sit",[((z=g.current)==null?void 0:z.position.x)||0,((T=g.current)==null?void 0:T.position.y)||0,(($=g.current)==null?void 0:$.position.z)||0])),h==="l"&&(N.current="lie",S.current=performance.now()+1500,a==null||a("lie",[((D=g.current)==null?void 0:D.position.x)||0,((H=g.current)==null?void 0:H.position.y)||0,((U=g.current)==null?void 0:U.position.z)||0])),h==="r"&&(N.current="roll",S.current=performance.now()+1600,a==null||a("roll",[((ne=g.current)==null?void 0:ne.position.x)||0,((Q=g.current)==null?void 0:Q.position.y)||0,((L=g.current)==null?void 0:L.position.z)||0])),h==="e"&&(w.current=performance.now()+1200,p==null||p([((O=g.current)==null?void 0:O.position.x)||0,((A=g.current)==null?void 0:A.position.y)||0,((F=g.current)==null?void 0:F.position.z)||0]))},J=E=>{const h=E.key.toLowerCase();(h==="arrowup"||h==="arrowdown"||h==="arrowleft"||h==="arrowright"||h==="w"||h==="a"||h==="s"||h==="d"||h===" ")&&(E.preventDefault(),E.stopPropagation()),h==="arrowup"&&(y.current.up=!1),h==="arrowdown"&&(y.current.down=!1),h==="arrowleft"&&(y.current.left=!1),h==="arrowright"&&(y.current.right=!1)};return window.addEventListener("keydown",re),window.addEventListener("keyup",J),()=>{window.removeEventListener("keydown",re),window.removeEventListener("keyup",J)}},[t]);const[X,Z]=o.useState(!1);if(de((re,J)=>{const E=g.current;if(!E)return;const h=performance.now();N.current&&h>S.current&&(N.current=null);const z=E.rotation,T=E.position,$=.2;N.current==="sit"?(z.x+=(.5-z.x)*$,T.y+=(.2-T.y)*$):N.current==="lie"?(z.x+=(-Math.PI/2-z.x)*$,T.y+=(.1-T.y)*$):N.current==="roll"?(z.z+=4*J,T.y+=(.15-T.y)*$):(z.x+=(0-z.x)*$,z.z+=(0-z.z)*$,T.y+=(s[1]-T.y)*$);const D=7;let H=0,U=0;if(y.current.up&&(U-=1),y.current.down&&(U+=1),y.current.left&&(H-=1),y.current.right&&(H+=1),i&&i!=="stop"&&(H+=i==="left"?-1:i==="right"?1:0,U+=i==="up"?-1:i==="down"?1:0),!N.current&&_.current){const O=_.current,A=O[0]-E.position.x,F=O[2]-E.position.z,P=Math.hypot(A,F);P>.1?(H+=A/P,U+=F/P):_.current=null}const ne=H!==0||U!==0;if(Z(ne),ne&&!N.current){const O=Math.hypot(H,U)||1,A=H/O*D,F=U/O*D,P=E.position;let W=P.x+A*J,K=P.z+F*J;const ee=25;W=Math.max(-ee,Math.min(ee,W)),K=Math.max(-ee,Math.min(ee,K));const Ee=.9;for(const le of f){const pe=W-le.pos[0],r=K-le.pos[2],d=Math.hypot(pe,r),u=Ee+le.r;if(d<u){if(d>.001){const k=pe/d,q=r/d;W=le.pos[0]+k*u,K=le.pos[2]+q*u}else W=P.x,K=P.z;const m=-r,x=pe,b=Math.hypot(m,x)||1;W+=m/b*.05,K+=x/b*.05}}P.set(W,P.y,K);const je=Math.atan2(A,F);E.rotation.y+=(je-E.rotation.y)*.2;const B=re.clock.getElapsedTime(),fe=E.getWorldPosition(new Y);fe.distanceToSquared(V.current)>5e-4&&Math.floor(B*3)!==C&&(ae(Math.floor(B*3)),v.copy(fe),v.y=.02),V.current.copy(fe)}const Q=E.position;n==null||n([Q.x,Q.y,Q.z]);const L=performance.now()<w.current;if(R.current&&(R.current.visible=L),L){const A=(1-Math.max(0,(w.current-performance.now())/1200))*Math.PI*4,F=.06,P=j.current,W=I.current;P&&(P.position.x=-.12+Math.cos(A)*F,P.position.y=.55+Math.sin(A)*F),W&&(W.position.x=.12+Math.cos(A)*F,W.position.y=.55+Math.sin(A)*F)}}),!G)return null;const ue=(G||"").includes("Fox.glb"),ie=ue?.03:1,ce=ue?-.3:0;return e.jsxs("group",{ref:g,position:new Y(...s),children:[e.jsx(o.Suspense,{fallback:e.jsx(Re,{center:!0,className:"loading",children:"Loading Ralph…"}),children:e.jsx(xt,{url:G,playing:X})}),C>=0&&e.jsx(ht,{position:v}),e.jsxs("group",{ref:R,visible:!1,position:[0,ce,0],scale:ie,children:[e.jsxs("mesh",{position:[-.12,.55,.32],children:[e.jsx("circleGeometry",{args:[.12,32]}),e.jsx("meshBasicMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[.12,.55,.32],children:[e.jsx("circleGeometry",{args:[.12,32]}),e.jsx("meshBasicMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{ref:j,position:[-.12,.55,.321],children:[e.jsx("circleGeometry",{args:[.06,16]}),e.jsx("meshBasicMaterial",{color:"#111111"})]}),e.jsxs("mesh",{ref:I,position:[.12,.55,.321],children:[e.jsx("circleGeometry",{args:[.06,16]}),e.jsx("meshBasicMaterial",{color:"#111111"})]})]}),c&&e.jsx(Re,{position:[0,1.2,0],center:!0,children:e.jsxs("div",{className:"interaction-buttons photorealistic",role:"toolbar","aria-label":"Ralph actions",children:[e.jsx("button",{className:"interaction-btn pet-btn",onClick:()=>t("pet"),"aria-label":"Pet Ralph",children:"🖐️ Pet"}),e.jsx("button",{className:"interaction-btn treat-btn",onClick:()=>t("treat"),"aria-label":"Give treat",children:"🦴 Treat"}),e.jsx("button",{className:"interaction-btn play-btn",onClick:()=>t("play"),"aria-label":"Play with Ralph",children:"🎾 Play"}),e.jsx("button",{className:"interaction-btn belly-btn",onClick:()=>t("belly_rub"),"aria-label":"Give belly rub",children:"🤗 Belly"})]})})]})}function xt({url:s,playing:t}){const{scene:n,animations:c}=_e(s),i=o.useRef(null),{actions:a,names:l}=Ye(c,i);o.useEffect(()=>{const G=l.find(C=>/idle/i.test(C))||l[0],g=l.find(C=>/walk/i.test(C))||l.find(C=>/run/i.test(C))||l[0],y=a[G],v=a[g];return y==null||y.reset().fadeIn(.2).play(),v==null||v.reset().fadeIn(.2).play(),v&&(v.paused=!t),()=>{y==null||y.fadeOut(.2),v==null||v.fadeOut(.2)}},[]),o.useEffect(()=>{const G=Object.values(a).find(g=>g&&/walk|run/i.test(g.getClip().name));G&&(G.paused=!t)},[t,a]);const p=s.includes("Fox.glb")?.03:1,f=s.includes("Fox.glb")?-.3:0;return e.jsx("group",{ref:i,rotation:[0,0,0],position:[0,f,0],scale:p,children:e.jsx("primitive",{object:n})})}_e.preload("https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Fox/glTF-Binary/Fox.glb");function gt({url:s,species:t}){const{scene:n}=_e(s),c=o.useRef(null),i=o.useRef(0),a=o.useRef(Math.random()*Math.PI*2);return o.useEffect(()=>{if(!n||!c.current)return;const l=new qe().setFromObject(n),p=new Y;l.getSize(p);const f=Math.max(.001,p.y),g={cow:4.4,pig:2.6,manatee:3.2,platypus:2.4,unicorn:3.8,zebra:3.8,donkey:3.2}[t]/f,v=-l.min.y*g;c.current.scale.setScalar(g),c.current.position.y=v,i.current=v},[n,t]),de(({clock:l})=>{if(!c.current)return;const p=l.getElapsedTime(),f=.03;c.current.position.y=i.current+f*Math.sin(p*1.6+a.current),c.current.rotation.y=.04*Math.sin(p*.8+a.current)}),e.jsx("group",{ref:c,children:e.jsx("primitive",{object:n})})}function yt({name:s,species:t,position:n,desired:c,happy:i,ralphPos:a,mood:l=0,targetPos:p}){const f=o.useRef(null),[G,g]=o.useState(null),y=o.useRef(null),v=o.useRef(void 0);o.useEffect(()=>{v.current=p},[p]),o.useEffect(()=>{f.current&&(f.current.rotation.y=0)},[]);const C=o.useRef(0),ae=o.useRef(!!i);o.useEffect(()=>{!ae.current&&i&&(C.current=performance.now()+900),ae.current=!!i},[i]);const V=o.useMemo(()=>{const _=document.createElement("canvas");_.width=128,_.height=128;const w=_.getContext("2d"),j=w.createRadialGradient(128/2,128/2,0,128/2,128/2,128/2);j.addColorStop(0,"rgba(0,0,0,0.5)"),j.addColorStop(1,"rgba(0,0,0,0)"),w.fillStyle=j,w.fillRect(0,0,128,128);const I=new Ve(_);return I.minFilter=ze,I.magFilter=ze,I.wrapS=Ae,I.wrapT=Ae,I},[]),N={cow:1.6,pig:1,manatee:1.2,platypus:.8,unicorn:1.5,zebra:1.5,donkey:1.3};return o.useEffect(()=>{let S=!1;const w=[`/models/animals/${(j=>j.charAt(0).toUpperCase()+j.slice(1))(t)}.glb`,`/models/animals/${t}.glb`,`/models/animals/${s}.glb`,`/models/animals/${s.toLowerCase()}.glb`,`/models/animals/${s.replace(/\s+/g,"")}.glb`];return(async()=>{for(const j of w)try{const I=await fetch(j,{method:"GET",cache:"no-store",headers:{Accept:"model/gltf-binary,application/octet-stream,*/*"}});if(!I.ok)continue;const R=(I.headers.get("content-type")||"").toLowerCase();if(R.includes("text/html"))continue;if(R.includes("model/gltf-binary")||R.includes("application/octet-stream")){S||g(j);return}if(I.body){S||g(j);return}}catch{}S||g(null)})(),()=>{S=!0}},[t,s]),de(({clock:S},_)=>{if(f.current){if(v.current){const w=f.current,j=v.current[0],I=v.current[2],R=j-w.position.x,X=I-w.position.z,Z=Math.hypot(R,X);Z>.2&&(w.position.x+=R/Z*1.6*_,w.position.z+=X/Z*1.6*_)}if(a&&y.current){const w=Math.hypot(f.current.position.x-a[0],f.current.position.z-a[2]),j=y.current.material;j.opacity=w<3?.18:w<6?.08:.03;const I=w<3?1+.05*Math.sin(S.getElapsedTime()*6):1,R=y.current;R&&R.scale.setScalar(I)}if(performance.now()<C.current){const j=1-(C.current-performance.now())/900;f.current.position.y=.08*Math.sin(j*Math.PI*4),f.current.rotation.z=.08*Math.sin(j*Math.PI*4)}}}),e.jsxs("group",{ref:f,position:n,children:[e.jsxs("mesh",{ref:y,rotation:[-Math.PI/2,0,0],position:[0,.001,0],renderOrder:-1,children:[e.jsx("ringGeometry",{args:[.8,1.2,32]}),e.jsx("meshBasicMaterial",{color:"#000000",transparent:!0,opacity:.06})]}),e.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,5e-4,0],renderOrder:-2,children:[e.jsx("circleGeometry",{args:[N[t],64]}),e.jsx("meshBasicMaterial",{map:V,transparent:!0,opacity:.9,depthWrite:!1})]}),G?e.jsx("group",{scale:1,children:e.jsx(gt,{url:G,species:t})}):(()=>{const S=({children:_})=>{const w=o.useRef(null),j=o.useRef(0),I=o.useRef(Math.random()*Math.PI*2);return o.useEffect(()=>{var R;j.current=((R=w.current)==null?void 0:R.position.y)||0},[]),de(({clock:R})=>{if(!w.current)return;const X=R.getElapsedTime();w.current.position.y=j.current+.03*Math.sin(X*1.6+I.current),w.current.rotation.y=.04*Math.sin(X*.8+I.current)}),e.jsx("group",{ref:w,children:_})};return e.jsxs(e.Fragment,{children:[t==="cow"&&e.jsx(S,{children:e.jsx("group",{scale:2.6,children:e.jsx(jt,{})})}),t==="pig"&&e.jsx(S,{children:e.jsx("group",{scale:2.2,children:e.jsx(bt,{})})}),t==="manatee"&&e.jsx(S,{children:e.jsx("group",{scale:2.4,children:e.jsx(wt,{})})}),t==="platypus"&&e.jsx(S,{children:e.jsx("group",{scale:2,children:e.jsx(Mt,{})})}),t==="unicorn"&&e.jsx(S,{children:e.jsx("group",{scale:2.6,children:e.jsx(St,{})})}),t==="zebra"&&e.jsx(S,{children:e.jsx("group",{scale:2.6,children:e.jsx(vt,{})})}),t==="donkey"&&e.jsx(S,{children:e.jsx("group",{scale:2.3,children:e.jsx(kt,{})})})]})})(),(()=>{if(!a||!f.current)return null;const S=f.current.position;return Math.hypot(S.x-a[0],S.z-a[2])>3?null:e.jsx(Re,{position:[0,6,0],center:!0,children:e.jsxs("div",{className:"sky-label",role:"note","aria-label":`${s} wants a trick`,children:[e.jsx("div",{className:"sky-label-name",children:t==="donkey"?"Eeyore":`${s} the ${(j=>j.charAt(0).toUpperCase()+j.slice(1))(t)}`}),e.jsx("div",{className:"sky-label-command",children:i?"😊 Happy!":c==="sit"?"Press S to Sit":c==="lie"?"Press L to Lie":"Press R to Roll"}),e.jsx("div",{className:"sky-label-mood",style:{marginTop:4,background:"rgba(0,0,0,0.25)",width:120,height:8,borderRadius:4},children:e.jsx("div",{style:{width:`${l}%`,height:"100%",background:l>66?"#4dd599":l>33?"#ffd93d":"#ff6b6b",borderRadius:4}})})]})})})()]})}function jt(){return e.jsxs("group",{scale:.9,children:[e.jsxs("mesh",{position:[0,.8,0],children:[e.jsx("boxGeometry",{args:[1.6,1,.8]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),[[-.4,.9,.25],[.3,.7,-.2],[.1,1.1,.1]].map((s,t)=>e.jsxs("mesh",{position:s,children:[e.jsx("sphereGeometry",{args:[.15,12,12]}),e.jsx("meshStandardMaterial",{color:"#000000"})]},t)),e.jsxs("mesh",{position:[0,.9,.65],children:[e.jsx("boxGeometry",{args:[.6,.6,.6]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),[-.5,.5].map(s=>[-.25,.25].map((t,n)=>e.jsxs("mesh",{position:[s,.25,t],children:[e.jsx("boxGeometry",{args:[.2,.5,.2]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]},`${s}-${t}-${n}`))),[-.25,.25].map((s,t)=>e.jsxs("mesh",{position:[s,1.15,.85],children:[e.jsx("boxGeometry",{args:[.15,.15,.05]}),e.jsx("meshStandardMaterial",{color:"#decccc"})]},t))]})}function bt(){return e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,.8,0],children:[e.jsx("sphereGeometry",{args:[.6,16,16]}),e.jsx("meshStandardMaterial",{color:"#ffb6c1"})]}),e.jsxs("mesh",{position:[0,.9,.6],children:[e.jsx("sphereGeometry",{args:[.4,16,16]}),e.jsx("meshStandardMaterial",{color:"#ffb6c1"})]}),e.jsxs("mesh",{position:[0,.9,.95],children:[e.jsx("cylinderGeometry",{args:[.15,.15,.2,12]}),e.jsx("meshStandardMaterial",{color:"#ff9db0"})]}),[-.35,.35].map(s=>[-.2,.2].map((t,n)=>e.jsxs("mesh",{position:[s,.3,t],children:[e.jsx("cylinderGeometry",{args:[.08,.08,.5,8]}),e.jsx("meshStandardMaterial",{color:"#ffb6c1"})]},`${s}-${t}-${n}`)))]})}function wt(){return e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,.7,0],rotation:[0,0,0],children:[e.jsx("capsuleGeometry",{args:[.35,1.2,8,16]}),e.jsx("meshStandardMaterial",{color:"#9ea7ad"})]}),e.jsxs("mesh",{position:[0,.75,.8],children:[e.jsx("sphereGeometry",{args:[.35,16,16]}),e.jsx("meshStandardMaterial",{color:"#9ea7ad"})]}),[-.45,.45].map((s,t)=>e.jsxs("mesh",{position:[s,.6,.2],rotation:[0,0,s>0?-.6:.6],children:[e.jsx("boxGeometry",{args:[.35,.1,.25]}),e.jsx("meshStandardMaterial",{color:"#9ea7ad"})]},t)),e.jsxs("mesh",{position:[0,.6,-.8],rotation:[0,0,0],children:[e.jsx("boxGeometry",{args:[.4,.1,.3]}),e.jsx("meshStandardMaterial",{color:"#9ea7ad"})]})]})}function Mt(){return e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,.6,0],children:[e.jsx("capsuleGeometry",{args:[.3,.9,8,16]}),e.jsx("meshStandardMaterial",{color:"#8b5a2b"})]}),e.jsxs("mesh",{position:[0,.7,.6],children:[e.jsx("sphereGeometry",{args:[.28,16,16]}),e.jsx("meshStandardMaterial",{color:"#8b5a2b"})]}),e.jsxs("mesh",{position:[0,.65,.9],children:[e.jsx("boxGeometry",{args:[.4,.15,.25]}),e.jsx("meshStandardMaterial",{color:"#d2b48c"})]}),e.jsxs("mesh",{position:[0,.6,-.7],children:[e.jsx("boxGeometry",{args:[.25,.05,.5]}),e.jsx("meshStandardMaterial",{color:"#654321"})]}),[-.25,.25].map((s,t)=>e.jsxs("mesh",{position:[s,.4,.2],children:[e.jsx("boxGeometry",{args:[.2,.05,.2]}),e.jsx("meshStandardMaterial",{color:"#d2b48c"})]},t))]})}function St(){return e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,.9,0],children:[e.jsx("capsuleGeometry",{args:[.4,1.2,8,16]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[0,1.1,.7],children:[e.jsx("sphereGeometry",{args:[.35,16,16]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),e.jsxs("mesh",{position:[0,1.25,1],rotation:[Math.PI/2,0,0],children:[e.jsx("coneGeometry",{args:[.07,.35,16]}),e.jsx("meshStandardMaterial",{color:"#ffd700"})]})]})}function vt(){return e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,.9,0],children:[e.jsx("capsuleGeometry",{args:[.4,1.2,8,16]}),e.jsx("meshStandardMaterial",{color:"#ffffff"})]}),Array.from({length:6}).map((s,t)=>e.jsxs("mesh",{position:[0,.6+t*.15,0],rotation:[0,0,t%2?.1:-.1],children:[e.jsx("boxGeometry",{args:[.9,.05,.9]}),e.jsx("meshStandardMaterial",{color:"#111111"})]},t))]})}function kt(){return e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,.9,0],children:[e.jsx("capsuleGeometry",{args:[.4,1.2,8,16]}),e.jsx("meshStandardMaterial",{color:"#8a7f70"})]}),[-.15,.15].map((s,t)=>e.jsxs("mesh",{position:[s,1.2,.75],rotation:[0,0,s>0?-.2:.2],children:[e.jsx("boxGeometry",{args:[.1,.35,.05]}),e.jsx("meshStandardMaterial",{color:"#8a7f70"})]},t))]})}function Rt({position:s,onDone:t,count:n=32}){const c=o.useRef(null),i=o.useMemo(()=>performance.now(),[]),a=o.useMemo(()=>{const l=[],p=["#ff6b6b","#ffd93d","#6bcbef","#b28dff","#4dd599","#ffa1ff","#ffd6a5"];for(let f=0;f<n;f++)l.push({vel:new Y((Math.random()-.5)*2.2,Math.random()*2+1.2,(Math.random()-.5)*2.2),rot:new Y(Math.random()*2,Math.random()*2,Math.random()*2),color:p[Math.random()*p.length|0],shape:Math.random()<.2?"tri":Math.random()<.5?"round":"rect"});return l},[n]);return de(()=>{const l=(performance.now()-i)/1e3,p=c.current;p&&(p.children.forEach((f,G)=>{if(!(f instanceof Ke))return;const g=a[G];f.position.x=g.vel.x*l,f.position.y=g.vel.y*l-1.5*l*l,f.position.z=g.vel.z*l,f.rotation.x=g.rot.x*l,f.rotation.y=g.rot.y*l,f.rotation.z=g.rot.z*l;const y=f.material;y.opacity=Math.max(0,1-l),y.transparent=!0}),l>1.2&&(t==null||t()))}),e.jsx("group",{ref:c,position:s,children:a.map((l,p)=>e.jsxs("mesh",{position:[0,0,0],children:[l.shape==="rect"&&e.jsx("planeGeometry",{args:[.15,.08]}),l.shape==="tri"&&e.jsx("coneGeometry",{args:[.09,.12,3]}),l.shape==="round"&&e.jsx("circleGeometry",{args:[.06,12]}),e.jsx("meshBasicMaterial",{color:l.color,side:Xe})]},p))})}function Ct({files:s}){const{scene:t}=Ze(),n=Je(Qe,s);return o.useEffect(()=>{if(n)return n.mapping=et,t.background=n,t.environment=n,()=>{}},[n,t]),null}const De=[{id:"corner",title:"Street Corner",files:"https://dl.polyhaven.org/file/ph-assets/HDRIs/hdr/2k/spruit_sunrise_2k.hdr",neighbors:[{id:"alley",position:[0,-4],label:"Go forward"}]},{id:"alley",title:"Alley",files:"https://dl.polyhaven.org/file/ph-assets/HDRIs/hdr/2k/kloofendal_38d_partly_cloudy_2k.hdr",neighbors:[{id:"corner",position:[0,4],label:"Back"}]}];function It(s){return De.find(t=>t.id===s)}function Et(){const[s]=o.useState(De[0].id),t=It(s),[n,c]=o.useState([0,.5,0]),[i,a]=o.useState({}),[l,p]=o.useState([]),[f,G]=o.useState({}),[g,y]=o.useState(null),v=o.useRef(null),[C,ae]=o.useState(null),[V,N]=o.useState(55),[S,_]=o.useState(1),[w,j]=o.useState(!1),[I,R]=o.useState(!1),[X,Z]=o.useState(!1),[ue,ie]=o.useState(!1),[ce,re]=o.useState(!1),[J,E]=o.useState([]),[h,z]=o.useState(!1),[T,$]=o.useState([]),[D,H]=o.useState(null);function U(r,d,u=500){if(!C||!v.current)return;const m=v.current,x=m.target.clone(),b=C.position.clone(),k=new Y().subVectors(b,x),q=k.length(),te=d??q,we=new Y().copy(r).add(k.setLength(te)),Me=performance.now(),oe=M=>M<.5?2*M*M:-1+(4-2*M)*M;let he=0;m.enabled=!1;const me=()=>{const M=Math.min(1,(performance.now()-Me)/u),se=oe(M),Se=x.clone().lerp(r,se),He=b.clone().lerp(we,se);m.target.copy(Se),C.position.copy(He),C.lookAt(Se),m.update(),M<1?he=requestAnimationFrame(me):m.enabled=!0};return he=requestAnimationFrame(me),()=>cancelAnimationFrame(he)}function ne(){U(new Y(0,.8,-6),24,500)}function Q(){U(new Y(0,.8,-6),10,500)}const L=[{id:"a1",name:"Cowie",species:"cow",pos:[-15,0,-6],desired:"sit"},{id:"a2",name:"Manny",species:"manatee",pos:[-9,0,-6],desired:"lie"},{id:"a3",name:"Barnabus",species:"pig",pos:[-3,0,-6],desired:"roll"},{id:"a4",name:"Hope",species:"unicorn",pos:[3,0,-6],desired:"sit"},{id:"a5",name:"Zibbie",species:"zebra",pos:[9,0,-6],desired:"lie"},{id:"a6",name:"Eeyore",species:"donkey",pos:[15,0,-6],desired:"roll"}],[O,A]=o.useState(0),[F,P]=o.useState(0),[W,K]=o.useState(0),[ee,Ee]=o.useState(()=>{try{return parseInt(localStorage.getItem("ralph_score")||"0")||0}catch{return 0}}),je=r=>{Ee(r);try{localStorage.setItem("ralph_score",String(r))}catch{}},[B,fe]=o.useState(null);function be(){const r=L,d=r[Math.random()*r.length|0],u=["sit","lie","roll"],m=u[Math.random()*u.length|0];fe({id:d.id,trick:m,expiresAt:performance.now()+12e3})}o.useEffect(()=>{if(!B){be();return}const r=setInterval(()=>{B&&performance.now()>B.expiresAt&&be()},500);return()=>clearInterval(r)},[B]);function le(){}o.useEffect(()=>{C&&(C.fov=V,C.updateProjectionMatrix())},[V,C]);function pe(r,d){let u=null,m=1/0;for(const x of L){const b=x.pos[0]-d[0],k=x.pos[2]-d[2],q=Math.hypot(b,k);q<m&&(m=q,u={id:x.id,desired:x.desired,species:x.species,pos:x.pos})}if(u&&m<2&&u.desired===r){a(M=>({...M,[u.id]:!0})),G(M=>({...M,[u.id]:Math.min(100,(M[u.id]||0)+25)}));const x=Math.min(3,Math.floor((O+1)/3)),b=32*(1+x);p(M=>[...M,{id:`${u.id}-${Date.now()}`,pos:[d[0],d[1]+.5,d[2]],count:b}]);const k=100,q=x*50,te=k+q,we=`toast-${Date.now()}`;E(M=>[...M,{id:we,pos:[d[0],d[1]+1.2,d[2]],text:`+${te}`}]),setTimeout(()=>E(M=>M.filter(se=>se.id!==we)),1200),je(ee+te),dt(u.species,u.pos);const Me=performance.now(),oe=Me-F>3e3?1:O+1;if(A(oe),K(M=>Math.max(M,oe)),P(Me),oe>0&&oe%3===0){const M=`badge-${Date.now()}`;$(se=>[...se,{id:M,text:`${oe} combo! ⭐`}]),setTimeout(()=>$(se=>se.filter(Se=>Se.id!==M)),1400)}B&&B.id===u.id&&B.trick===r&&(p(M=>[...M,{id:`${u.id}-bonus-${Date.now()}`,pos:[d[0],d[1]+.5,d[2]],count:96}]),je(ee+te+100),be());const he=r==="sit"?"lie":r==="lie"?"roll":"sit",me=L.findIndex(M=>M.id===u.id);me>=0&&(L[me].desired=he)}}return o.useEffect(()=>{let r=performance.now();const d=()=>{r=performance.now(),H(null)};window.addEventListener("keydown",d),window.addEventListener("pointerdown",d);const u=setInterval(()=>{if(performance.now()-r>2e4){let m=L[0],x=1/0;for(const b of L){const k=Math.hypot(b.pos[0]-n[0],b.pos[2]-n[2]);k<x&&(x=k,m=b)}H({id:m.id,trick:m.desired})}},2e3);return()=>{window.removeEventListener("keydown",d),window.removeEventListener("pointerdown",d),clearInterval(u)}},[L,n]),o.useEffect(()=>{try{const r=localStorage.getItem("ralph_sfx_vol");if(r){const b=parseFloat(r);Number.isNaN(b)||(_(b),Fe(b))}const d=localStorage.getItem("ralph_reduced_motion");d&&j(d==="1");const u=localStorage.getItem("ralph_show_minimap");u&&re(u==="1"),localStorage.getItem("ralph_help_seen")||ie(!0);const x=localStorage.getItem("ralph_high_contrast");x&&z(x==="1")}catch{}},[]),o.useEffect(()=>{try{localStorage.setItem("ralph_show_minimap",ce?"1":"0")}catch{}},[ce]),o.useEffect(()=>{try{localStorage.setItem("ralph_high_contrast",h?"1":"0")}catch{}},[h]),o.useEffect(()=>{const r=setInterval(()=>{G(d=>{const u={};for(const m of L){const x=Math.max(0,(d[m.id]||0)-2);u[m.id]=x}return u})},1e3);return()=>clearInterval(r)},[]),o.useEffect(()=>{const r=u=>{if(u.key.toLowerCase()!=="c")return;let m=null,x=1/0;for(const b of L){const k=b.pos[0]-n[0],q=b.pos[2]-n[2],te=Math.hypot(k,q);te<x&&(x=te,m=b.id)}y(m)},d=u=>{u.key.toLowerCase()==="c"&&y(null)};return window.addEventListener("keydown",r),window.addEventListener("keyup",d),()=>{window.removeEventListener("keydown",r),window.removeEventListener("keyup",d)}},[L,n]),e.jsxs("div",{className:`game-container photorealistic ${h?"hc":""}`,children:[e.jsxs("div",{className:"game-header photorealistic",style:{position:"relative"},onMouseMove:r=>{const d=document.getElementById("title");if(!d)return;const u=r.currentTarget.getBoundingClientRect(),m=u.left+u.width/2,x=u.top+u.height/2,b=(r.clientX-m)/u.width,k=(r.clientY-x)/u.height;d.style.transform=`perspective(600px) rotateX(${(-k*3).toFixed(2)}deg) rotateY(${(b*3).toFixed(2)}deg)`},onMouseLeave:()=>{const r=document.getElementById("title");r&&(r.style.transform="none")},children:[e.jsx("h1",{id:"title",children:"Ralph goes to meet his friends"}),e.jsx("div",{className:"controls-info",children:e.jsx("p",{children:"Get close, then press S/L/R to do tricks."})}),e.jsxs("div",{style:{position:"absolute",right:12,top:12,display:"flex",gap:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginRight:8},children:[e.jsxs("span",{style:{fontWeight:700},children:["Score: ",ee]}),e.jsxs("span",{style:{opacity:.8},children:["Best 🔥 ",W]})]}),e.jsx("button",{className:"photorealistic-toggle","aria-label":"Camera",title:"Camera",onClick:()=>{R(r=>!r),Z(!1)},children:"🎥"}),e.jsx("button",{className:"photorealistic-toggle","aria-label":"Settings",title:"Settings",onClick:()=>{Z(r=>!r),R(!1)},children:"⚙︎"}),e.jsx("button",{className:"photorealistic-toggle","aria-label":"Help",title:"Help",onClick:()=>{ie(!0);try{localStorage.setItem("ralph_help_seen","1")}catch{}},children:"?"})]}),I&&e.jsxs("div",{style:{position:"absolute",right:12,top:52,zIndex:10,background:"rgba(0,0,0,0.55)",padding:"8px 10px",borderRadius:8},children:[e.jsx("button",{className:"photorealistic-toggle",onClick:()=>{ne(),R(!1)},children:"Wide"}),e.jsx("button",{className:"photorealistic-toggle",onClick:()=>{Q(),R(!1)},style:{marginLeft:8},children:"Close"})]}),X&&e.jsxs("div",{style:{position:"absolute",right:12,top:52,zIndex:10,background:"rgba(0,0,0,0.55)",padding:12,borderRadius:8,minWidth:220},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{children:"🔊 SFX"}),e.jsx("input",{type:"range",min:0,max:1,step:.05,value:S,onChange:r=>{const d=parseFloat(r.target.value);_(d),Fe(d);try{localStorage.setItem("ralph_sfx_vol",String(d))}catch{}}})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[e.jsx("input",{type:"checkbox",checked:w,onChange:r=>{j(r.target.checked);try{localStorage.setItem("ralph_reduced_motion",r.target.checked?"1":"0")}catch{}}})," Reduce Motion"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[e.jsx("input",{type:"checkbox",checked:ce,onChange:r=>re(r.target.checked)})," Show Minimap"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,marginTop:8},children:[e.jsx("input",{type:"checkbox",checked:h,onChange:r=>z(r.target.checked)})," High Contrast"]})]})]}),ue&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",zIndex:50,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>ie(!1),children:e.jsxs("div",{style:{background:"rgba(20,20,20,0.9)",color:"#fff",padding:20,borderRadius:12,width:420},onClick:r=>r.stopPropagation(),children:[e.jsx("h3",{style:{marginTop:0},children:"How to Play"}),e.jsxs("ul",{style:{lineHeight:1.6},children:[e.jsx("li",{children:"Drag to look around"}),e.jsx("li",{children:"Use Arrow Keys to move Ralph"}),e.jsx("li",{children:"Press S / L / R to Sit / Lie / Roll"}),e.jsx("li",{children:"Get close to animals for name bubbles"}),e.jsx("li",{children:"Hold C to call the nearest animal"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:12},children:e.jsx("button",{className:"photorealistic-toggle",onClick:()=>{ie(!1);try{localStorage.setItem("ralph_help_seen","1")}catch{}},children:"Got it"})})]})}),e.jsxs("div",{className:"game-scene photorealistic",children:[ce&&e.jsx("div",{style:{position:"absolute",zIndex:5,right:8,bottom:12,width:120,height:120,background:"rgba(0,0,0,0.35)",borderRadius:8,border:"1px solid rgba(255,255,255,0.2)"},children:e.jsx("div",{style:{position:"relative",width:"100%",height:"100%"},children:(()=>{const m=k=>(k+25)/50*120,x=k=>(k+25)/50*120,b=[];b.push(e.jsx("div",{style:{position:"absolute",left:m(n[0])-3,top:x(n[2])-3,width:6,height:6,background:"#ffd93d",borderRadius:"50%"}},"r"));for(const k of L)b.push(e.jsx("div",{title:k.name,style:{position:"absolute",left:m(k.pos[0])-2,top:x(k.pos[2])-2,width:4,height:4,background:"#4dd599",borderRadius:"50%"}},k.id));return b})()})}),B&&e.jsxs("div",{className:"controls-info",style:{position:"absolute",zIndex:5,left:"50%",transform:"translateX(-50%)",bottom:16,background:"rgba(0,0,0,0.7)",padding:"8px 14px",borderRadius:999,border:"1px solid rgba(255,255,255,0.25)",boxShadow:"0 2px 8px rgba(0,0,0,0.4)",backdropFilter:"blur(6px)",color:"#fff",fontWeight:600,textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:[(()=>{const r=B.trick,d=r==="sit"?"S":r==="lie"?"L":"R",u=r==="sit"?"Sit":r==="lie"?"Lie":"Roll",m=(()=>{const x=L.find(b=>b.id===B.id);return x?x.name:B.id.toUpperCase()})();return e.jsxs("span",{children:["Press ",d," to ",u," near ",m]})})(),e.jsxs("span",{style:{marginLeft:10},children:["⏳ ",Math.max(0,Math.ceil((B.expiresAt-performance.now())/1e3)),"s"]}),O>1&&e.jsxs("span",{style:{marginLeft:10},children:["🔥 ",O]})]}),D&&e.jsx("div",{className:"controls-info",style:{position:"absolute",zIndex:5,left:"50%",transform:"translateX(-50%)",bottom:60,background:"rgba(0,0,0,0.6)",padding:"6px 12px",borderRadius:999,color:"#fff",fontWeight:600},children:(()=>{var m;const r=D.trick==="sit"?"S":D.trick==="lie"?"L":"R",d=D.trick==="sit"?"Sit":D.trick==="lie"?"Lie":"Roll",u=((m=L.find(x=>x.id===D.id))==null?void 0:m.name)||D.id.toUpperCase();return e.jsxs("span",{children:["Try Press ",r," to ",d," near ",u]})})()}),T.map(r=>e.jsx("div",{style:{position:"absolute",zIndex:6,left:"50%",transform:"translateX(-50%)",top:90,background:"linear-gradient(135deg,#f59e0b,#ef4444)",color:"#fff",padding:"6px 12px",borderRadius:999,boxShadow:"0 8px 30px rgba(0,0,0,0.3)"},children:r.text},r.id)),e.jsxs(tt,{camera:{position:[12,6.5,12],fov:V},dpr:[1,1.5],gl:{antialias:!0,alpha:!1,powerPreference:"high-performance"},onCreated:({camera:r})=>{ae(r)},onWheel:r=>{r.preventDefault();const d=Math.sign(r.deltaY),u=Math.max(35,Math.min(85,V+d*3));N(u)},children:[e.jsx(Ct,{files:t.files},t.id),e.jsx(st,{ref:v,enableDamping:!0,dampingFactor:.1,enableZoom:!1,minDistance:6,maxDistance:28,target:[0,.8,-6],minPolarAngle:.35,maxPolarAngle:1.2}),(()=>{const r=(V-35)/50,d=.75-r*.25,m=`hsl(${40+(1-r)*10}, 35%, 85%)`;return e.jsx("ambientLight",{intensity:d,color:m})})(),e.jsx("directionalLight",{position:[10,10,5],intensity:1}),e.jsx(mt,{position:n,onInteraction:()=>{},onPosition:c,showInteractionButtons:!1,onTrick:pe,onEyeRoll:()=>void 0,obstacles:(()=>{const r={cow:2,pig:1.3,manatee:1.7,platypus:1.2,unicorn:1.9,zebra:1.9,donkey:1.7};return L.map(d=>({pos:d.pos,r:(r[d.species]||1.5)+.25}))})()}),l.map(r=>e.jsx(Rt,{position:r.pos,count:r.count,onDone:()=>p(d=>d.filter(u=>u.id!==r.id))},r.id)),J.map(r=>e.jsx(Re,{position:r.pos,center:!0,children:e.jsx("div",{style:{background:"rgba(0,0,0,0.8)",color:"#fff",padding:"6px 10px",borderRadius:10,fontWeight:700,border:"1px solid rgba(255,255,255,0.25)",textShadow:"0 1px 2px rgba(0,0,0,0.8)"},children:r.text})},r.id)),L.map(r=>e.jsx(yt,{name:r.name,species:r.species,position:r.pos,desired:r.desired,happy:!!i[r.id],ralphPos:n,mood:f[r.id]||0,targetPos:g===r.id?[n[0]-1.2,0,n[2]-.6]:void 0},r.id))]})]})]})}function Lt(){return e.jsx(Et,{})}class Gt extends $e.Component{constructor(){super(...arguments);Pe(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,c){console.error("App crashed:",n,c)}render(){return this.state.hasError?e.jsxs("div",{className:"error",style:{padding:16},children:[e.jsx("div",{children:e.jsx("strong",{children:"Something went wrong."})}),e.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:String(this.state.error||"Unknown error")})]}):this.props.children}}rt.createRoot(document.getElementById("root")).render(e.jsx($e.StrictMode,{children:e.jsx(Gt,{children:e.jsx(Lt,{})})}));
